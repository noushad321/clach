(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["module-address-verification~module-ajax-form~module-store-locator~page-cart~page-checkout~page-product"],{

/***/ "./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.ajax-form.js":
/*!*************************************************************************************************!*\
  !*** ./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.ajax-form.js ***!
  \*************************************************************************************************/
/*! exports provided: processAjaxForm, setupAJAXForm, init, backInStockTracking */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processAjaxForm\", function() { return processAjaxForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupAJAXForm\", function() { return setupAJAXForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"backInStockTracking\", function() { return backInStockTracking; });\n/* harmony import */ var _components_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/dialog */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/components/dialog.js\");\n/* harmony import */ var _components_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/progress */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/components/progress.js\");\n/* harmony import */ var _module_input_format__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./module.input-format */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.input-format.js\");\n/* harmony import */ var _module_window_scroll__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./module.window-scroll */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js\");\n/* harmony import */ var _helpers_pubSub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/pubSub */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/pubSub.js\");\n/* harmony import */ var _helpers_modules__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/modules */ \"./cartridges/app_staffsales_core/cartridge/client/default/js/helpers/modules.js\");\n/* harmony import */ var _helpers_urlUtilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/urlUtilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/urlUtilities.js\");\n/* harmony import */ var _helpers_utilities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/utilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/utilities.js\");\n/* harmony import */ var _components_clientSideValidation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/clientSideValidation */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/components/clientSideValidation.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @borngroup/born-utilities */ \"./node_modules/@borngroup/born-utilities/dist/born-utilities.min.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__);\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\n\n\n\n\nvar STATUS_LABELS = {\n  SUCCESS: 'OK',\n  ERROR: 'Error'\n};\n/**\n * Runs the provided actions, loops if more than one.\n */\n\nfunction _doneActions(formEl, actionData, actionType) {\n  if (actionData instanceof Array) {\n    actionData.forEach(function (currentData) {\n      return _runAction(formEl, currentData, actionType);\n    });\n  } else {\n    _runAction(formEl, actionData, actionType);\n  }\n}\n/**\n * Runs a single action from the list.\n * Provides an easy way to execute common actions after a form is submitted.\n */\n\n\nfunction _runAction(formEl, actionData, actionType) {\n  var actionName = typeof actionData === 'string' ? actionData : actionData ? actionData.action : '';\n  formEl.classList.add(\"set--form-\".concat(actionType));\n\n  switch (actionName) {\n    case 'close':\n      {\n        _components_dialog__WEBPACK_IMPORTED_MODULE_0__[\"close\"]();\n        return true;\n      }\n\n    case 'reload':\n      {\n        window.location.reload();\n        return true;\n      }\n\n    case 'reset':\n      {\n        formEl.reset();\n        return true;\n      }\n\n    case 'scrollTo':\n      {\n        _module_window_scroll__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setupScroll(actionData.settings.target, 300, actionData.settings.offset);\n        return true;\n      }\n\n    case 'deleteElement':\n      {\n        var targetElement = document.querySelector(actionData.selector);\n\n        if (targetElement) {\n          targetElement.parentNode.removeChild(targetElement);\n        }\n\n        return true;\n      }\n\n    case 'createCookie':\n      {\n        Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"createCookie\"])(actionData.settings.cookieName, actionData.settings.cookieValue, actionData.settings.cookieDuration);\n        return true;\n      }\n\n    default:\n      {\n        break;\n      }\n  }\n} //Displays an inline message if a message is passed and a message target is available.\n\n\nfunction _displayMessages(messageContainer, messageList) {\n  if (messageList) {\n    if (typeof messageList === 'string') {\n      messageContainer.textContent = messageList;\n    } else if (messageList.length) {\n      messageList.forEach(function (currentMessage) {\n        messageContainer.textContent = currentMessage;\n      });\n    }\n\n    messageContainer.classList.add('set--visible');\n  }\n}\n/**\n * Handles the response error flow.\n */\n\n\nfunction _handleError(err) {\n  _components_progress__WEBPACK_IMPORTED_MODULE_1__[\"hideLoader\"]();\n  console.error(err);\n}\n\nfunction _handleTracking(formSettings, error) {\n  if (formSettings.tracking) {\n    var trackObject = Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"objectAssign\"])({\n      submissionStatus: error ? STATUS_LABELS.ERROR : STATUS_LABELS.SUCCESS\n    }, formSettings.tracking.trackObject);\n    _helpers_modules__WEBPACK_IMPORTED_MODULE_5__[\"default\"].tracking.init(null, {\n      trackEvent: formSettings.tracking.trackEvent,\n      trackObject: trackObject\n    });\n  }\n}\n/**\n * Use `responseContent` to replace the contents of a `responseTargetEl` element.\n */\n\n\nfunction _replaceContent(responseContent, responseTargetEl, formSettings) {\n  if (responseTargetEl === formSettings.activeDialog) {\n    _components_dialog__WEBPACK_IMPORTED_MODULE_0__[\"replace\"]({\n      content: responseContent\n    });\n  } else {\n    if (formSettings.responseTargetStrategy === 'update') {\n      responseTargetEl.innerHTML = responseContent;\n    } else if (formSettings.responseTargetStrategy === 'append') {\n      responseTargetEl.insertAdjacentHTML('beforeend', responseContent);\n    } else {\n      responseTargetEl.insertAdjacentHTML('afterend', responseContent);\n      responseTargetEl.parentNode.removeChild(responseTargetEl);\n    }\n\n    Object(_helpers_utilities__WEBPACK_IMPORTED_MODULE_7__[\"initModules\"])(responseTargetEl);\n  }\n\n  if (typeof formSettings.onReplaceCallback === 'function') {\n    formSettings.onReplaceCallback(responseContent, responseTargetEl);\n  }\n}\n/**\n * Retrieves the form's settings attribute (data-ajax-form) and JSON parses it.\n * data-ajax-form can have the following attributes:\n * -submitSelector: A selector to target the submit action element. Defaults to [data-continue-action].\n * -errorsSelector: A selector to target the errors container element. Defaults to [data-ajax-errors].\n *                  If no error element is found, places the error at the end of the form.\n */\n\n\nfunction _getFormSettings(formEl) {\n  var formAjaxAttrVal = formEl.getAttribute('data-ajax-form');\n  formEl.removeAttribute('data-ajax-form');\n  return formAjaxAttrVal ? JSON.parse(formAjaxAttrVal) : {};\n}\n/**\n * Append the page's data-querystring and data-action attributes to the request `formData` object.\n * This can be useful for certain Controllers that leverage this information for processing or redirection purposes.\n */\n\n\nfunction _appendExternalData(formSettings, formData) {\n  var pageData = Object(_helpers_utilities__WEBPACK_IMPORTED_MODULE_7__[\"getPageActionData\"])();\n\n  if (pageData) {\n    if (formSettings.appendPageQueryString) {\n      formData.queryString = pageData.queryString;\n    }\n\n    if (formSettings.appendPageAction) {\n      formData.action = pageData.action;\n    }\n  }\n}\n/**\n * Appends data stored in the `submittedAction` into the request `formData` obeject.\n * This can be useful to construct a form with mutliple \"submit\" CTAs each with a different set of custom data that should be submitted.\n */\n\n\nfunction _appendSubmittedActionData(submittedAction, formData) {\n  if (submittedAction && submittedAction.hasAttribute('data-ajax-form-data')) {\n    Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"objectAssign\"])(formData, JSON.parse(submittedAction.getAttribute('data-ajax-form-data')));\n  }\n}\n/**\n * Manages necessary handling for a successful form submission,\n * including message display and success action triggering.\n */\n\n\nfunction _handleFormSubmitSuccess(formEl, formData, formSettings, response) {\n  Object(_helpers_pubSub__WEBPACK_IMPORTED_MODULE_4__[\"publish\"])(\"\".concat(formSettings.formTriggerName, \":success\"), {\n    formEl: formEl,\n    formData: formData,\n    response: response\n  });\n\n  _doneActions(formEl, formSettings.onSuccess, 'success');\n\n  formSettings.errorsContainerEl.classList.remove('set--visible');\n\n  _displayMessages(formSettings.successContainerEl, response.msg || response.message);\n\n  _handleTracking(formSettings);\n\n  return response;\n}\n/**\n * Manages necessary handling for a failed form submission,\n * including error message display and success action triggering.\n */\n\n\nfunction _handleFormSubmitError(formEl, formData, formSettings, response) {\n  _components_progress__WEBPACK_IMPORTED_MODULE_1__[\"hideLoader\"]();\n  Object(_helpers_pubSub__WEBPACK_IMPORTED_MODULE_4__[\"publish\"])(\"\".concat(formSettings.formTriggerName, \":error\"), {\n    formEl: formEl,\n    formData: formData,\n    response: response\n  });\n\n  _doneActions(formEl, formSettings.onError, 'error');\n\n  formSettings.successContainerEl.classList.remove('set--visible');\n\n  _displayMessages(formSettings.errorsContainerEl, response.msg || response.message || response.error || response.serverErrors);\n\n  Object(_components_clientSideValidation__WEBPACK_IMPORTED_MODULE_8__[\"setCustomErrors\"])(formEl, response.fields || response.fieldErrors);\n\n  _handleTracking(formSettings, true);\n\n  return response;\n} //Sets attributes for datalayer from the response\n\n\nfunction _setTrackingAttributesFromResponse(response, formSettings) {\n  if (response.user_email && formSettings.tracking) {\n    if (!formSettings.tracking.trackObject) {\n      formSettings.tracking.trackObject = {};\n    }\n\n    formSettings.tracking.trackObject.user_email = response.user_email;\n  }\n\n  if (response.gtmAddAddressEvent && !formSettings.tracking) {\n    formSettings.tracking = response.gtmAddAddressEvent;\n  }\n}\n/**\n * Submits an XHR request for `formEl` using the provided `formData` and `formSettings`.\n * @param  {[type]} formEl       [description]\n * @param  {[type]} formData     [description]\n * @param  {[type]} formSettings [description]\n * @return {[type]}              [description]\n */\n\n\nfunction _requestFormSubmit(formEl, formData, formSettings) {\n  return $.ajax({\n    url: formEl.action,\n    type: formSettings.type || formEl.method || 'POST',\n    data: formData,\n    success: function success(response) {\n      _components_progress__WEBPACK_IMPORTED_MODULE_1__[\"hideLoader\"]();\n\n      _doneActions(formEl, formSettings.onComplete, 'complete');\n\n      if (_typeof(response) === 'object') {\n        var responseContent = response.content || response.renderedTemplate;\n\n        if (response.success) {\n          _setTrackingAttributesFromResponse(response, formSettings);\n\n          _handleFormSubmitSuccess(formEl, formData, formSettings, response);\n        } else {\n          _handleFormSubmitError(formEl, formData, formSettings, response);\n        } //Replaces the content of the current modal with whatever the response is.\n        //Useful to display BED errors or update messages.\n\n\n        if (responseContent) {\n          _replaceContent(responseContent, formSettings.responseTargetEl, formSettings);\n        } //Opens an additional modal that overlays the form.\n        //Useful to display additional information in the form of a modal.\n\n\n        if (response.openModal) {\n          _components_dialog__WEBPACK_IMPORTED_MODULE_0__[\"open\"]({\n            url: response.openModal,\n            type: response.dataType || null,\n            options: formSettings.doneModalOptions\n          });\n        }\n\n        if (response.tracking) {\n          formSettings.tracking = response.tracking;\n\n          _handleTracking(formSettings);\n        } //Redirects to another URL.\n\n\n        if (response.redirectUrl) {\n          if (window.location.href === response.redirectUrl) {\n            window.location.reload();\n          } else {\n            window.location = formSettings.appendHashOnRedirect ? \"\".concat(response.redirectUrl).concat(window.location.hash) : response.redirectUrl;\n          }\n        }\n      } else if (typeof response === 'string') {\n        _replaceContent(response, formSettings.responseTargetEl, formSettings);\n\n        var userEmailEl = document.querySelector('[data-locator-component=\"user-email\"]');\n\n        if (userEmailEl) {\n          var trackingAttributes = {};\n          trackingAttributes.user_email = userEmailEl.getAttribute('value');\n\n          _setTrackingAttributesFromResponse(trackingAttributes, formSettings);\n        }\n\n        if (formSettings.tracking) {\n          _handleTracking(formSettings);\n        }\n      }\n    },\n    error: _handleError\n  });\n}\n/**\n * Preparees the provided `formEl` for submission,\n * by configuring additional properties on `formSettings` and creating a `formData` object.\n * @return {Promise}              [description]\n */\n\n\nfunction processAjaxForm(formEl, formSettings, evt) {\n  var $form = $(formEl),\n      formData = Object(_helpers_urlUtilities__WEBPACK_IMPORTED_MODULE_6__[\"getQueryStringParams\"])($form.serialize());\n  formSettings = formSettings || _getFormSettings(formEl);\n  formSettings.formTriggerName = formSettings.formTriggerName || 'form';\n  formSettings.submittedAction = formSettings.submittedAction || formEl.querySelector(formSettings.submitSelector || '[data-ajax-submit]');\n  formSettings.errorsContainerEl = formEl.querySelector(formSettings.errorsSelector || '[data-ajax-errors]') || Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"createElWithAttrs\"])(formEl, {\n    class: 'invalid-feedback',\n    'data-ajax-errors': true\n  }, 'p');\n  formSettings.successContainerEl = formEl.querySelector(formSettings.successSelector || '[data-ajax-success]') || Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"createElWithAttrs\"])(formEl, {\n    class: 'success-feedback',\n    'data-ajax-success': true\n  }, 'p'); //Define the content replacement strategy when the response provides HTML.\n  //Types: 'update', 'replace', 'append'.\n  //Default: 'update'.\n\n  formSettings.activeDialog = _components_dialog__WEBPACK_IMPORTED_MODULE_0__[\"getActive\"]();\n  formSettings.responseTargetStrategy = formSettings.responseTargetStrategy || 'update';\n  formSettings.responseTargetEl = formSettings.responseTarget ? document.querySelector(formSettings.responseTarget) : formSettings.activeDialog || formEl;\n  Object(_helpers_pubSub__WEBPACK_IMPORTED_MODULE_4__[\"publish\"])(\"\".concat(formSettings.formTriggerName, \":submit\"), {\n    formEl: formEl,\n    formData: formData,\n    evt: evt\n  });\n\n  if (Object(_components_clientSideValidation__WEBPACK_IMPORTED_MODULE_8__[\"validateForm\"])(formEl)) {\n    if (formSettings.submittedAction && formSettings.submittedAction.name) {\n      formData[formSettings.submittedAction.name] = formSettings.submittedAction.value;\n    }\n\n    _components_progress__WEBPACK_IMPORTED_MODULE_1__[\"showLoader\"](formEl);\n\n    _appendExternalData(formSettings, formData);\n\n    _appendSubmittedActionData(formSettings.submittedAction, formData);\n\n    _module_input_format__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sanitizeFormattedData(formEl, formData); //Checks if Google reCaptcha is enabled and requests a user score before proceeding to submit a form.\n\n    if (window.SFRA.SitePreferences.enableGoogleRecaptcha) {\n      var formNameForRecaptchaVerificationObj = window.SFRA.SitePreferences.formNameForRecaptchaVerification ? JSON.parse(window.SFRA.SitePreferences.formNameForRecaptchaVerification) : {};\n\n      if (formEl.name && formNameForRecaptchaVerificationObj[formEl.name]) {\n        return __webpack_require__.e(/*! import() */ 0).then(__webpack_require__.bind(null, /*! ../helpers/reCaptcha.js */ \"./cartridges/int_googlerecaptcha/cartridge/client/default/js/helpers/reCaptcha.js\")).then(function (reCaptcha) {\n          return reCaptcha.executeVerification().then(function (response) {\n            if (response.token) {\n              formData['gRecaptchaToken'] = response.token;\n              return _requestFormSubmit(formEl, formData, formSettings);\n            } else {\n              return _handleFormSubmitError(formEl, formData, formSettings, response);\n            }\n          });\n        });\n      }\n    }\n\n    backInStockTracking(formEl);\n    return _requestFormSubmit(formEl, formData, formSettings);\n  } else {\n    _handleTracking(formSettings, true);\n\n    Object(_helpers_pubSub__WEBPACK_IMPORTED_MODULE_4__[\"publish\"])(\"\".concat(formSettings.formTriggerName, \":validationError\"), {\n      formEl: formEl,\n      formData: formData,\n      evt: evt\n    });\n  }\n}\n/**\n * Sets up a simple AJAX form handling. Depends on the controller to provide a valid JSON response.\n * Uses the 'data-ajax-form' attribute to select which forms will use this method.\n * @param  {[type]} currentForm [description]\n */\n\nfunction setupAJAXForm(currentForm) {\n  var formSettings = _getFormSettings(currentForm),\n      submitSelector = formSettings.submitActionSelector || '[type=\"submit\"]',\n      submitActionEvent = formSettings.submitActionEvent || 'click';\n\n  Object(_helpers_utilities__WEBPACK_IMPORTED_MODULE_7__[\"addEventListenerList\"])(currentForm.querySelectorAll(submitSelector), submitActionEvent, function (evt) {\n    formSettings.submittedAction = this;\n\n    if (this.type !== 'submit') {\n      //Does not work on certain browsers (FireFox) that set an `isTrusted: false` property in the event.\n      //dispatchEvent(currentForm, 'submit');\n      //Instead, process the form directly:\n      processAjaxForm(currentForm, formSettings, evt);\n    }\n  });\n  currentForm.addEventListener(formSettings.event || 'submit', function (evt) {\n    evt.preventDefault();\n    processAjaxForm(currentForm, formSettings, evt);\n  });\n}\nfunction init(options) {\n  Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_9__[\"callbackOnElements\"])(options.elements, setupAJAXForm);\n}\nfunction backInStockTracking(formEl) {\n  var trackingParams, trackingParamsObj;\n  trackingParams = formEl.getAttribute('data-component-onclicktrackingparams-backinstock');\n\n  if (trackingParams) {\n    trackingParamsObj = JSON.parse(trackingParams);\n    _helpers_modules__WEBPACK_IMPORTED_MODULE_5__[\"default\"].tracking.init(null, {\n      trackEvent: trackingParamsObj.trackEvent || 'virtualPageview',\n      trackObject: trackingParamsObj.trackObject\n    });\n  }\n}\n\n//# sourceURL=webpack:///./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.ajax-form.js?");

/***/ }),

/***/ "./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.input-format.js":
/*!****************************************************************************************************!*\
  !*** ./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.input-format.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InputFormat; });\n/* harmony import */ var cleave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cleave.js */ \"./node_modules/cleave.js/dist/cleave-esm.js\");\n/* harmony import */ var _helpers_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/utilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/utilities.js\");\n/* harmony import */ var _helpers_urlUtilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/urlUtilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/urlUtilities.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @borngroup/born-utilities */ \"./node_modules/@borngroup/born-utilities/dist/born-utilities.min.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_3__);\n\n/**\n * This class acts as a wrapper for your input formatter of choice.\n * Using Cleave.js in this case.\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar customBINs;\nvar Instances = [],\n    CARD_TYPES = {\n  visa: 'Visa',\n  mastercard: 'Master Card',\n  mada: 'Mada',\n  amex: 'Amex',\n  discover: 'Discover',\n  unknown: 'Unknown'\n};\n\nvar InputFormat = /*#__PURE__*/function () {\n  function InputFormat(inputs) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, InputFormat);\n\n    this.options = options;\n    Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_3__[\"callbackOnElements\"])(inputs, this.setupFormatting.bind(this));\n  }\n\n  _createClass(InputFormat, [{\n    key: \"setupFormatting\",\n    value: function setupFormatting(currentInput) {\n      var hasCustomSettings = currentInput.getAttribute('data-input-format'),\n          currentInputSettings = Object(_helpers_utilities__WEBPACK_IMPORTED_MODULE_1__[\"objectAssign\"])({}, this.options, hasCustomSettings ? JSON.parse(hasCustomSettings) : {}),\n          inputFormat;\n\n      if (!currentInput.hasAttribute('data-disable-formatting')) {\n        if (currentInputSettings.creditCard) {\n          //Retrieve the available custom BINs for later use.\n          InputFormat.getCustomBINs();\n          inputFormat = InputFormat.setupCreditCard(currentInput, currentInputSettings);\n        } else if (currentInputSettings.phone) {\n          inputFormat = InputFormat.setupPhone(currentInput, currentInputSettings);\n        } else {\n          inputFormat = InputFormat.setupInput(currentInput, currentInputSettings);\n        }\n      }\n\n      if (inputFormat && !InputFormat.get(currentInput)) {\n        Instances.push({\n          input: currentInput,\n          inputFormat: inputFormat\n        });\n      }\n\n      currentInput.removeAttribute('data-input-format');\n      currentInput.setAttribute('data-input-has-format', true);\n    }\n    /**\n     * Returns the matched format object, where `referenceInput` is the element to be looked up.\n     */\n\n  }], [{\n    key: \"get\",\n    value: function get(referenceInput) {\n      for (var i = 0; i < Instances.length; i++) {\n        if (Instances[i].input === referenceInput) {\n          return Instances[i].inputFormat;\n        }\n      }\n    }\n  }, {\n    key: \"getCustomBINs\",\n    value: function getCustomBINs() {\n      if (!customBINs && window.SFRA.SitePreferences.ckoEnabled) {\n        return $.get(window.SFRA.Urls.customBINs, function (response) {\n          customBINs = response.list;\n        });\n      }\n    }\n  }, {\n    key: \"updateMatchingCardData\",\n    value: function updateMatchingCardData(options) {\n      var cardTypeLabel = CARD_TYPES[Object.keys(CARD_TYPES).indexOf(options.type) > -1 ? options.type : 'unknown'];\n\n      if (options.cardTypeContainer) {\n        options.cardTypeContainer.setAttribute('data-type', options.type);\n      }\n\n      if (options.cardTypeInput) {\n        options.cardTypeInput.value = cardTypeLabel;\n      }\n\n      if (options.cardCVVInput) {\n        options.cardCVVInput.maxLength = options.type === 'amex' ? 4 : 3;\n      }\n\n      options.inputField.setAttribute('data-submit-format-raw', true);\n    }\n  }, {\n    key: \"setupCreditCard\",\n    value: function setupCreditCard(inputField, settings) {\n      var formContainer = inputField.form || document,\n          cardTypeContainer = formContainer.querySelector(settings.cardTypeContainer || '[data-card-type-container]'),\n          cardTypeInput = formContainer.querySelector(settings.cardTypeInput || '[data-card-type-input]'),\n          cardCVVInput = formContainer.querySelector(settings.cardCVVInput || '[data-card-cvv-input]');\n      return new cleave_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](inputField, {\n        creditCard: true,\n        onValueChanged: function onValueChanged(evt) {\n          var cardValue = evt.target.rawValue.substring(0, 6),\n              type = this.properties.creditCardType;\n\n          if (cardValue.length >= 6 && customBINs && customBINs.mada && customBINs.mada.indexOf(cardValue) !== -1) {\n            type = 'mada';\n          }\n\n          InputFormat.updateMatchingCardData({\n            type: type,\n            inputField: inputField,\n            cardTypeContainer: cardTypeContainer,\n            cardTypeInput: cardTypeInput,\n            cardCVVInput: cardCVVInput\n          });\n        },\n        onCreditCardTypeChanged: function onCreditCardTypeChanged(type) {\n          InputFormat.updateMatchingCardData({\n            type: type,\n            inputField: inputField,\n            cardTypeContainer: cardTypeContainer,\n            cardTypeInput: cardTypeInput,\n            cardCVVInput: cardCVVInput\n          });\n        }\n      });\n    } //import 'cleave.js/src/addons/phone-type-formatter.us.js';\n    // static setupPhone(inputField, settings) {\n    //     let countrySelector = inputField.form ? inputField.form.querySelector('[name*=\"country\"]') : null,\n    //         selectedCountryCode = countrySelector ? countrySelector.value : 'US';\n    //     settings.phoneRegionCode = settings.phoneRegionCode || selectedCountryCode;\n    //     return new Cleave(inputField, settings);\n    // }\n\n  }, {\n    key: \"setupInput\",\n    value: function setupInput(inputField, settings) {\n      return new cleave_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](inputField, settings);\n    }\n  }, {\n    key: \"sanitizeFormattedData\",\n    value: function sanitizeFormattedData(formEl, formData, callback) {\n      var dataIsSerialized = typeof formData === 'string',\n          rawFormatInputs = formEl.querySelectorAll('[data-submit-format-raw]'); //Convert `formData` to a literal for easy updating.\n\n      formData = dataIsSerialized ? Object(_helpers_urlUtilities__WEBPACK_IMPORTED_MODULE_2__[\"getQueryStringParams\"])(formData) : formData;\n      [].forEach.call(rawFormatInputs, function (currentInput) {\n        formData[currentInput.name] = InputFormat.get(currentInput).getRawValue();\n      }); //Reset `formData` to its original format.\n\n      formData = dataIsSerialized ? $.param(formData) : formData;\n\n      if (typeof callback === 'function') {\n        callback(formData);\n      }\n\n      return formData;\n    }\n  }]);\n\n  return InputFormat;\n}();\n\n\n\n//# sourceURL=webpack:///./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.input-format.js?");

/***/ }),

/***/ "./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js":
/*!*****************************************************************************************************!*\
  !*** ./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WindowScroll; });\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @borngroup/born-utilities */ \"./node_modules/@borngroup/born-utilities/dist/born-utilities.min.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/utilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/utilities.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * WINDOW SCROLL MODULE\n *\n * This module scrolls the window to a target via a click on an element with a [data-window-scroll] property.\n *\n * @param {[Object]} data-window-scroll\n * [\n *  target: [Required] HTML Element. Element to scroll to.\n *  offset: [Optional] Number | HTML Element. If parameter is a number, then the number will used for offset. If it is a HTML Element, than the offsetHeight of the element will be used.\n *  duration: [Optional] Number. Duration of the scroll.\n *  callback: [Optional] Function. This is called once the scroll is complete.\n * ]\n */\n\n\n\nvar WindowScroll = /*#__PURE__*/function () {\n  function WindowScroll(query) {\n    _classCallCheck(this, WindowScroll);\n\n    Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__[\"callbackOnElements\"])(query, this.setupWindowScroll.bind(this));\n    this.breakpoints = _helpers_utilities__WEBPACK_IMPORTED_MODULE_1__[\"breakpointRanges\"];\n  }\n\n  _createClass(WindowScroll, [{\n    key: \"isEnabled\",\n    value: function isEnabled(breakpointName) {\n      var matchedBreakpoint = this.breakpoints[breakpointName];\n      return matchedBreakpoint && (!matchedBreakpoint.min || document.body.offsetWidth >= matchedBreakpoint.min) && (!matchedBreakpoint.max || document.body.offsetWidth <= matchedBreakpoint.max);\n    }\n  }, {\n    key: \"getOffsetValue\",\n    value: function getOffsetValue(offsetMatch) {\n      return offsetMatch instanceof HTMLElement ? offsetMatch.getBoundingClientRect().height : offsetMatch || 0;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents(el) {\n      var settings = JSON.parse(el.getAttribute('data-window-scroll'));\n      el.addEventListener('click', function () {\n        var enabled = settings.hasOwnProperty('enabled') ? this.isEnabled.call(this, settings.enabled) : true,\n            delay = settings.delay || 0;\n        window.setTimeout(function () {\n          if (enabled && !(el.disabled || el.classList.contains('disabled'))) {\n            WindowScroll.setupScroll(settings.target, settings.duration, settings.offset, null, settings.scrollContainer);\n          }\n        }, delay);\n      }.bind(this));\n      el.removeAttribute('data-window-scroll');\n    }\n  }, {\n    key: \"setupWindowScroll\",\n    value: function setupWindowScroll(el) {\n      this.bindEvents(el);\n    }\n  }], [{\n    key: \"setupScroll\",\n    value: function setupScroll(destination) {\n      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 350;\n      var manualOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      var containerEl = arguments.length > 4 ? arguments[4] : undefined;\n      var scrollContainer = typeof containerEl === 'string' ? document.querySelector(containerEl) : containerEl,\n          scrollOptions = {\n        easings: {\n          easeOutCubic: function easeOutCubic(t) {\n            return --t * t * t + 1;\n          }\n        },\n        startPosition: WindowScroll.getScrollPosition(scrollContainer),\n        startTime: 'now' in window.performance ? performance.now() : new Date().getTime(),\n        duration: duration,\n        destinationPosition: Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__[\"scrollToPosition\"])(destination, manualOffset, scrollContainer),\n        callback: callback || function () {\n          return true;\n        }\n      };\n\n      if ('requestAnimationFrame' in window === false) {\n        (scrollContainer || window).scroll(0, scrollOptions.destinationPosition);\n\n        if (typeof callback === 'function') {\n          callback(scrollOptions);\n        }\n\n        return;\n      }\n\n      WindowScroll.easeScroll(scrollContainer, scrollOptions);\n    }\n  }, {\n    key: \"getScrollPosition\",\n    value: function getScrollPosition(scrollContainer) {\n      return scrollContainer ? scrollContainer.scrollTop : window.pageYOffset;\n    }\n  }, {\n    key: \"easeScroll\",\n    value: function easeScroll(scrollContainer, scrollOptions) {\n      var now = 'now' in window.performance ? performance.now() : new Date().getTime(),\n          elapsedTime = now - scrollOptions.startTime,\n          time = Math.min(1, elapsedTime / scrollOptions.duration),\n          timeFunction = scrollOptions.easings['easeOutCubic'](time),\n          currentScrollPos;\n      (scrollContainer || window).scroll(0, Math.ceil(timeFunction * (scrollOptions.destinationPosition - scrollOptions.startPosition) + scrollOptions.startPosition));\n      currentScrollPos = WindowScroll.getScrollPosition(scrollContainer); //Check for both the elapsed time and the current position.\n      //If either matches, stop the scrolling function.\n\n      if (currentScrollPos === scrollOptions.destinationPosition || elapsedTime >= scrollOptions.duration) {\n        scrollOptions.callback();\n        return;\n      }\n\n      window.requestAnimationFrame(WindowScroll.easeScroll.bind(this, scrollContainer, scrollOptions));\n    }\n  }]);\n\n  return WindowScroll;\n}();\n\n\n\n//# sourceURL=webpack:///./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js?");

/***/ })

}]);