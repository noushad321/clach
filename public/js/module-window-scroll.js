(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["module-window-scroll"],{

/***/ "./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js":
/*!*****************************************************************************************************!*\
  !*** ./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WindowScroll; });\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @borngroup/born-utilities */ \"./node_modules/@borngroup/born-utilities/dist/born-utilities.min.js\");\n/* harmony import */ var _borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/utilities */ \"./cartridges/app_accelerator_core/cartridge/client/default/js/helpers/utilities.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * WINDOW SCROLL MODULE\n *\n * This module scrolls the window to a target via a click on an element with a [data-window-scroll] property.\n *\n * @param {[Object]} data-window-scroll\n * [\n *  target: [Required] HTML Element. Element to scroll to.\n *  offset: [Optional] Number | HTML Element. If parameter is a number, then the number will used for offset. If it is a HTML Element, than the offsetHeight of the element will be used.\n *  duration: [Optional] Number. Duration of the scroll.\n *  callback: [Optional] Function. This is called once the scroll is complete.\n * ]\n */\n\n\n\nvar WindowScroll = /*#__PURE__*/function () {\n  function WindowScroll(query) {\n    _classCallCheck(this, WindowScroll);\n\n    Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__[\"callbackOnElements\"])(query, this.setupWindowScroll.bind(this));\n    this.breakpoints = _helpers_utilities__WEBPACK_IMPORTED_MODULE_1__[\"breakpointRanges\"];\n  }\n\n  _createClass(WindowScroll, [{\n    key: \"isEnabled\",\n    value: function isEnabled(breakpointName) {\n      var matchedBreakpoint = this.breakpoints[breakpointName];\n      return matchedBreakpoint && (!matchedBreakpoint.min || document.body.offsetWidth >= matchedBreakpoint.min) && (!matchedBreakpoint.max || document.body.offsetWidth <= matchedBreakpoint.max);\n    }\n  }, {\n    key: \"getOffsetValue\",\n    value: function getOffsetValue(offsetMatch) {\n      return offsetMatch instanceof HTMLElement ? offsetMatch.getBoundingClientRect().height : offsetMatch || 0;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents(el) {\n      var settings = JSON.parse(el.getAttribute('data-window-scroll'));\n      el.addEventListener('click', function () {\n        var enabled = settings.hasOwnProperty('enabled') ? this.isEnabled.call(this, settings.enabled) : true,\n            delay = settings.delay || 0;\n        window.setTimeout(function () {\n          if (enabled && !(el.disabled || el.classList.contains('disabled'))) {\n            WindowScroll.setupScroll(settings.target, settings.duration, settings.offset, null, settings.scrollContainer);\n          }\n        }, delay);\n      }.bind(this));\n      el.removeAttribute('data-window-scroll');\n    }\n  }, {\n    key: \"setupWindowScroll\",\n    value: function setupWindowScroll(el) {\n      this.bindEvents(el);\n    }\n  }], [{\n    key: \"setupScroll\",\n    value: function setupScroll(destination) {\n      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 350;\n      var manualOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      var containerEl = arguments.length > 4 ? arguments[4] : undefined;\n      var scrollContainer = typeof containerEl === 'string' ? document.querySelector(containerEl) : containerEl,\n          scrollOptions = {\n        easings: {\n          easeOutCubic: function easeOutCubic(t) {\n            return --t * t * t + 1;\n          }\n        },\n        startPosition: WindowScroll.getScrollPosition(scrollContainer),\n        startTime: 'now' in window.performance ? performance.now() : new Date().getTime(),\n        duration: duration,\n        destinationPosition: Object(_borngroup_born_utilities__WEBPACK_IMPORTED_MODULE_0__[\"scrollToPosition\"])(destination, manualOffset, scrollContainer),\n        callback: callback || function () {\n          return true;\n        }\n      };\n\n      if ('requestAnimationFrame' in window === false) {\n        (scrollContainer || window).scroll(0, scrollOptions.destinationPosition);\n\n        if (typeof callback === 'function') {\n          callback(scrollOptions);\n        }\n\n        return;\n      }\n\n      WindowScroll.easeScroll(scrollContainer, scrollOptions);\n    }\n  }, {\n    key: \"getScrollPosition\",\n    value: function getScrollPosition(scrollContainer) {\n      return scrollContainer ? scrollContainer.scrollTop : window.pageYOffset;\n    }\n  }, {\n    key: \"easeScroll\",\n    value: function easeScroll(scrollContainer, scrollOptions) {\n      var now = 'now' in window.performance ? performance.now() : new Date().getTime(),\n          elapsedTime = now - scrollOptions.startTime,\n          time = Math.min(1, elapsedTime / scrollOptions.duration),\n          timeFunction = scrollOptions.easings['easeOutCubic'](time),\n          currentScrollPos;\n      (scrollContainer || window).scroll(0, Math.ceil(timeFunction * (scrollOptions.destinationPosition - scrollOptions.startPosition) + scrollOptions.startPosition));\n      currentScrollPos = WindowScroll.getScrollPosition(scrollContainer); //Check for both the elapsed time and the current position.\n      //If either matches, stop the scrolling function.\n\n      if (currentScrollPos === scrollOptions.destinationPosition || elapsedTime >= scrollOptions.duration) {\n        scrollOptions.callback();\n        return;\n      }\n\n      window.requestAnimationFrame(WindowScroll.easeScroll.bind(this, scrollContainer, scrollOptions));\n    }\n  }]);\n\n  return WindowScroll;\n}();\n\n\n\n//# sourceURL=webpack:///./cartridges/app_accelerator_core/cartridge/client/default/js/modules/module.window-scroll.js?");

/***/ })

}]);